(function(){"use strict";var t={9262:function(t,s,e){var n=e(6848),o=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],a=e(1656),r={},l=(0,a.A)(r,o,i,!1,null,null,null),c=l.exports,u=(e(4114),e(6178)),d=function(){var t=this,s=t._self._c;return s("div",{staticClass:"home"},[s("div",{staticClass:"link-wrapper fb-wrapper"},[s("router-link",{attrs:{to:{name:"Fb"}}},[t._v("Fb")])],1),s("div",{staticClass:"link-wrapper fb-business-wrapper"},[s("router-link",{attrs:{to:{name:"FbBusiness"}}},[t._v("FbBusiness")])],1),s("div",{staticClass:"link-wrapper inst-wrapper"},[s("router-link",{attrs:{to:{name:"Inst"}}},[t._v("Inst")])],1),s("div",{staticClass:"link-wrapper inst-business-wrapper"},[s("router-link",{attrs:{to:{name:"InstBusiness"}}},[t._v("InstBusiness")])],1)])},p=[],g=function(){var t=this,s=t._self._c;return s("div",{staticClass:"about"},[s("div",{staticClass:"home-btn"},[s("router-link",{attrs:{to:{name:"Home"}}},[t._v("Return to Home")])],1),s("KeepAlive",[s("LoginFbBusines")],1)],1)},f=[],b=function(){var t=this,s=t._self._c;return s("div",{staticClass:"fb-busines-wrapper"},[t.FbBusines?s("div",{staticClass:"fb-busines-data"},[s("p",{staticClass:"fb-busines-name"},[t._v(t._s(t.FbBusines.name))]),s("img",{attrs:{src:t.FbBusines.picture.data.url,alt:""}})]):s("div",{staticClass:"login-fb-busines-btn",on:{click:t.loginFbBusines}},[t._v(" Login Fb Business ")]),t.FbBusinesPosts?.length?s("div",{staticClass:"fb-busines-posts"},[s("ul",{staticClass:"fb-busines-posts-list"},t._l(t.FbBusinesPosts,(function(e){return s("li",{key:e.id,staticClass:"fb-busines-post-item"},[s("p",{staticClass:"fb-busines-post-message"},[t._v(" "+t._s(e.message)+" ")]),e.media_url?s("img",{staticClass:"fb-busines-post-img",attrs:{src:e.media_url,alt:""}}):t._e(),s("span",{staticClass:"fb-busines-post-date"},[t._v(t._s(e.created_time))])])})),0)]):t._e()])},m=[],h=e(3518),_={name:"LoginFbBusines",data(){return{authResponse:null}},computed:{...(0,h.aH)(["FbBusines","FbBusinesPosts"])},methods:{...(0,h.L8)(["getFbBusinesData","getFbBusinesPosts"]),loginFbBusines(){"undefined"!==typeof FB?FB.login((t=>{console.log(t),this.authResponse=t.authResponse,t.authResponse?this.checkLoginState():console.log("FB login failed")}),{scope:"public_profile,instagram_basic,pages_show_list,instagram_content_publish"}):console.warn("Facebook SDK not loaded. Make sure to call FB.init() before using Facebook APIs.")},checkLoginState(){"undefined"!==typeof FB&&FB.getLoginStatus((t=>{"connected"===t.status?this.getFbUserData():"not_authorized"!==t.status&&"unknown"!==t.status||console.log("The user is logged into Facebook, but not into your app. Or the user is not logged into Facebook at all.")}))},getFbUserData(){"undefined"!==typeof FB&&FB.api("/me/accounts",{fields:"business"},(t=>{console.log(t),t&&!t.error?(console.log("Profile",t),this.getFbBusinesData(t)):console.error("Error getting user data with FB:",t.error)}))},getFbBusinesData(t){"undefined"!==typeof FB&&FB.api(`/${t.data[0].id}`,{fields:"name,picture,access_token"},(t=>{console.log(t),t&&!t.error?(console.log("Profile",t),this.$store.commit("setFbBusines",t)):console.error("Error getting user data with FB:",t.error),this.getFbBusinesPosts(t.access_token)}))},getFbBusinesPosts(t){"undefined"!==typeof FB&&FB.api(`/${this.authResponse.userID}/posts`,{fields:"message,created_time,link,full_picture",access_token:t},(t=>{console.log(t),t&&!t.error?(console.log("Profile",t),this.$store.commit("setFbBusinesPosts",t.data)):console.error("Error getting user data with FB:",t.error)}))}},mounted(){window.fbAsyncInit=function(){FB.init({appId:"428343743281323",cookie:!0,xfbml:!0,version:"v19.0"}),FB.AppEvents.logPageView(),console.log("mounted fb-busines")},"undefined"!==typeof FB&&window.fbAsyncInit(),function(t,s,e){var n,o=t.getElementsByTagName(s)[0];t.getElementById(e)||(n=t.createElement(s),n.id=e,n.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(n,o))}(document,"script","facebook-jssdk")}},F=_,B=(0,a.A)(F,b,m,!1,null,null,null),v=B.exports,I={name:"FbBusines",components:{LoginFbBusines:v}},k=I,w=(0,a.A)(k,g,f,!1,null,null,null),y=w.exports,C=function(){var t=this,s=t._self._c;return s("div",{staticClass:"Fb"},[s("div",{staticClass:"home-btn"},[s("router-link",{attrs:{to:{name:"Home"}}},[t._v("Return to Home")])],1),s("KeepAlive",[s("LogingFb")],1)],1)},P=[],D=function(){var t=this,s=t._self._c;return s("div",{staticClass:"fb-wrapper"},[s("div",{staticClass:"login-fb-btn",on:{click:t.loginFb}},[t._v("login facebook")]),t.FbData&&t.FbData.first_name?s("div",{staticClass:"fb-data"},[s("p",{staticClass:"fb-name"},[t._v(t._s(t.FbData.first_name)+" "+t._s(t.FbData.last_name))]),s("img",{staticClass:"fb-pic",attrs:{src:t.FbData.picture.data.url,alt:"profile-pic"}}),s("ul",{staticClass:"fb-posts"},t._l(t.getFbPosts(t.FbData.id),(function(e){return s("li",{key:e.id,staticClass:"post-item"},[s("p",{staticClass:"post-message"},[t._v(" "+t._s(e.message)+" ")]),s("img",{staticClass:"post-img",attrs:{src:e.full_picture,alt:""}}),s("span",{staticClass:"fb-post-date"},[t._v(t._s(e.created_time))])])})),0)]):t._e()])},A=[],L={name:"LoginFb",computed:{...(0,h.aH)(["FbData"])},methods:{...(0,h.L8)(["getFbPosts"]),loginFb(){"undefined"!==typeof FB&&FB.login((t=>{t.authResponse?this.checkLoginState():console.log("FB login failed")}),{scope:"public_profile,email,user_posts"})},checkLoginState(){"undefined"!==typeof FB&&FB.getLoginStatus((t=>{"connected"===t.status?this.getFbUserData():"not_authorized"!==t.status&&"unknown"!==t.status||console.log("The user is logged into Facebook, but not into your app. Or the user is not logged into Facebook at all.")}))},getFbUserData(){"undefined"!==typeof FB&&FB.api("/me",{fields:"id,email,first_name,last_name,picture"},(t=>{t&&!t.error&&(console.log("Profile",t),this.getFbUserPosts(t.id),this.$store.commit("setFbData",t))}))},getFbUserPosts(t){"undefined"!==typeof FB&&FB.api(`/${t}/posts`,{fields:"id,message,created_time,link,full_picture"},(t=>{t&&!t.error&&(console.log("Posts",t.data),this.$store.commit("setFbPosts",t.data))})),FB.logout()}},mounted(){window.fbAsyncInit=function(){FB.init({appId:"1125584682047920",cookie:!0,xfbml:!0,version:"v19.0",status:!1,localStorage:!1}),FB.AppEvents.logPageView(),console.log("mounted fb")},"undefined"!==typeof FB&&window.fbAsyncInit(),function(t,s,e){var n,o=t.getElementsByTagName(s)[0];t.getElementById(e)||(n=t.createElement(s),n.id=e,n.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(n,o))}(document,"script","facebook-jssdk")}},S=L,E=(0,a.A)(S,D,A,!1,null,null,null),x=E.exports,$={name:"FbView",components:{LogingFb:x}},T=$,O=(0,a.A)(T,C,P,!1,null,null,null),H=O.exports,R=function(){var t=this,s=t._self._c;return s("div",{staticClass:"about"},[s("div",{staticClass:"home-btn"},[s("router-link",{attrs:{to:{name:"Home"}}},[t._v("Return to Home")])],1),s("KeepAlive",[s("LoginInstBusines")],1)],1)},U=[],j=function(){var t=this,s=t._self._c;return s("div",{staticClass:"fb-busines-wrapper"},[t.InstBusinesData?t._e():s("div",{staticClass:"login-fb-busines-btn",on:{click:t.loginInstBusines}},[t._v(" Login Inst Business ")]),t.InstBusinesData?.length?s("div",{staticClass:"fb-busines-posts"},[s("ul",{staticClass:"fb-busines-posts-list"},t._l(t.InstBusinesData,(function(e){return s("li",{key:e.id,staticClass:"fb-busines-post-item"},[s("p",{staticClass:"fb-busines-post-message"},[t._v(" "+t._s(e.caption)+" ")]),e.media_url?s("img",{staticClass:"fb-busines-post-img",attrs:{src:e.media_url,alt:""}}):t._e(),s("span",{staticClass:"fb-busines-post-date"},[t._v(t._s(e.created_at))])])})),0)]):t._e()])},M=[],V={name:"LoginInstBusines",data(){return{authResponse:null}},computed:{...(0,h.aH)(["InstBusines","InstBusinesData"])},methods:{...(0,h.L8)(["getInstBusines","getInstBusinesData"]),loginInstBusines(){"undefined"!==typeof FB?FB.login((t=>{console.log(t),this.authResponse=t.authResponse,t.authResponse?this.checkLoginState():console.log("FB login failed")}),{scope:"public_profile,instagram_basic,instagram_content_publish"}):console.warn("Facebook SDK not loaded. Make sure to call FB.init() before using Facebook APIs.")},checkLoginState(){"undefined"!==typeof FB&&FB.getLoginStatus((t=>{"connected"===t.status?this.getInstBusinesData():"not_authorized"!==t.status&&"unknown"!==t.status||console.log("The user is logged into Facebook, but not into your app. Or the user is not logged into Facebook at all.")}))},getInstBusinesData(){"undefined"!==typeof FB&&FB.api("/me","GET",{fields:"accounts{connected_instagram_account}"},function(t){t&&!t.error?(console.log("Profile",t),this.getInstBusinesPostsFromFB(t.accounts.data[0].connected_instagram_account.id)):console.error("Error getting user data with FB:",t.error)}.bind(this))},getInstBusinesPostsFromFB(t){"undefined"!==typeof FB&&(console.log(t),FB.api(`/${t}/media`,{fields:"caption,created_time,like_count,media_url"},(t=>{console.log(t),t&&!t.error?(console.log("Profile",t),this.$store.commit("setInstBusinesData",t.data)):console.error("Error getting user data with FB:",t.error)})))}},mounted(){window.fbAsyncInit=function(){FB.init({appId:"428343743281323",cookie:!0,xfbml:!0,version:"v19.0"}),FB.AppEvents.logPageView(),console.log("mounted inst-busines")},"undefined"!==typeof FB&&window.fbAsyncInit(),function(t,s,e){var n,o=t.getElementsByTagName(s)[0];t.getElementById(e)||(n=t.createElement(s),n.id=e,n.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(n,o))}(document,"script","facebook-jssdk")}},K=V,N=(0,a.A)(K,j,M,!1,null,null,null),z=N.exports,G={name:"InstBusines",components:{LoginInstBusines:z}},q=G,J=(0,a.A)(q,R,U,!1,null,null,null),Q=J.exports,W=function(){var t=this,s=t._self._c;return s("div",{staticClass:"about"},[s("div",{staticClass:"home-btn"},[s("router-link",{attrs:{to:{name:"Home"}}},[t._v("Return to Home")])],1),s("KeepAlive",[s("LogingInst")],1)],1)},X=[],Y=function(){var t=this,s=t._self._c;return s("div",{staticClass:"inst-wrapper"},[t.InstData?s("div",{staticClass:"inst-data"},[s("p",{staticClass:"inst-name"},[t._v(" "+t._s(t.InstData.username)+" ")]),t.InstPosts?.length?s("ul",{staticClass:"inst-posts"},t._l(t.InstPosts,(function(e){return s("li",{key:e.id,staticClass:"post-item"},[e.caption?s("p",{staticClass:"post-message"},[t._v(" "+t._s(e.caption)+" ")]):t._e(),e.media_url?s("img",{staticClass:"post-img",attrs:{src:e.media_url,alt:""}}):t._e(),e.created_time?s("span",{staticClass:"inst-post-date"},[t._v(t._s(e.created_time))]):t._e()])})),0):t._e()]):s("div",{staticClass:"login-inst-btn",on:{click:t.loginInst}},[t._v(" login instagram ")])])},Z=[],tt=(e(4603),e(7566),e(8721),e(8355)),st={name:"LoginInst",data(){return{instAppId:"938567128057524",redirectUri:window.location.origin+"/Inst",userId:null,accessToken:null}},computed:{...(0,h.aH)(["InstPosts"]),...(0,h.aH)(["InstData"])},methods:{...(0,h.L8)(["getInstPosts","getInstData"]),loginInst(){window.location.search.includes("code=")||window.open(`https://api.instagram.com/oauth/authorize/?client_id=${this.instAppId}&redirect_uri=${this.redirectUri}&scope=user_profile&response_type=code`),this.getMarker()},getMarker(){const t=window.location.search.match(/code=([^&]+)/)?.[1];t&&fetch("https://api.instagram.com/oauth/access_token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`client_id=${this.instAppId}&client_secret=bdfd0d3223db11d8311f8082ad0c745f&grant_type=authorization_code&redirect_uri=${encodeURIComponent(this.redirectUri)}&code=${t}`}).then((async t=>{try{const s=await t.json();s&&s.access_token&&s.user_id?(this.userId=s.user_id,this.accessToken=s.access_token,this.getUserData()):console.error("Invalid response from Instagram API")}catch(s){console.error("Error fetching access token from Instagram API",s)}})).catch((t=>{console.error("Error fetching access token from Instagram API",t)}))},getUserData(){tt.A.get(`https://graph.instagram.com/${this.userId??null}?fields=id,username,media{caption,media_url,created_time}&access_token=${this.accessToken??""}`,{}).then((t=>{try{console.log(t),this.getInstPosts(t.data.id),this.$store.commit("setInstData",t.data),this.$store.commit("setInstPosts",t.data.media.data)}catch(s){console.error(s)}})).catch((t=>{console.error(t)}))}},mounted(){try{if(window.location.search.includes("code=")){this.getMarker();const t=new URLSearchParams(window.location.search),s=t.get("code");s&&(t.set("code",null),window.history.pushState({},"",window.location.pathname+window.location.search.split("?")[0]),this.accessToken=s,this.getMarker())}}catch(t){console.error(t)}}},et=st,nt=(0,a.A)(et,Y,Z,!1,null,null,null),ot=nt.exports,it={name:"InstBusiness",components:{LogingInst:ot}},at=it,rt=(0,a.A)(at,W,X,!1,null,null,null),lt=rt.exports,ct={name:"HomeView",components:{FbView:H,InstView:lt,FbBusiness:y,InstBusiness:Q}},ut=ct,dt=(0,a.A)(ut,d,p,!1,null,null,null),pt=dt.exports;n.Ay.use(u.Ay);const gt=[{path:"/",name:"Home",component:pt},{path:"/Fb",name:"Fb",component:H},{path:"/FbBusiness",name:"FbBusiness",component:y},{path:"/InstBusiness",name:"InstBusiness",component:Q},{path:"/Inst",name:"Inst",component:lt}],ft=new u.Ay({routes:gt,base:"/",mode:"history"});var bt=ft;"credorevolution.github.io"===window.location.host&&ft.push({name:"Home"}),n.Ay.use(h.Ay);var mt=new h.Ay.Store({state:{FbData:[],FbPosts:[],InstData:null,InstPosts:[],FbBusines:null,FbBusinesPosts:null,InstCode:null,InstBusines:null,InstBusinesData:null},getters:{getFbData:t=>t.FbData,getFbPosts:t=>t.FbPosts,getInstData:t=>t.InstData,getInstPosts:t=>t.InstPosts,getFbBusines:t=>t.FbBusines,getInstCode:t=>t.InstCode,getFbBusinesPosts:t=>t.FbBusinesPosts,getInstBusines:t=>t.InstBusines,getInstBusinesData:t=>t.InstBusinesData},mutations:{setFbData(t,s){t.FbData=s},setInstData(t,s){t.InstData=s},setFbPosts(t,s){t.FbPosts=s},setInstPosts(t,s){t.InstPosts=s},setFbBusines(t,s){t.FbBusines=s},setFbBusinesPosts(t,s){t.FbBusinesPosts=s},setInstCode(t,s){t.InstCode=s},setInstBusines(t,s){t.InstBusines=s},setInstBusinesData(t,s){t.InstBusinesData=s}},actions:{}});n.Ay.config.productionTip=!1,new n.Ay({router:bt,store:mt,render:t=>t(c)}).$mount("#app")}},s={};function e(n){var o=s[n];if(void 0!==o)return o.exports;var i=s[n]={exports:{}};return t[n].call(i.exports,i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(s,n,o,i){if(!n){var a=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],i=t[u][2];for(var r=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(e.O).every((function(t){return e.O[t](n[l])}))?n.splice(l--,1):(r=!1,i<a&&(a=i));if(r){t.splice(u--,1);var c=o();void 0!==c&&(s=c)}}return s}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,o,i]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};e.O.j=function(s){return 0===t[s]};var s=function(s,n){var o,i,a=n[0],r=n[1],l=n[2],c=0;if(a.some((function(s){return 0!==t[s]}))){for(o in r)e.o(r,o)&&(e.m[o]=r[o]);if(l)var u=l(e)}for(s&&s(n);c<a.length;c++)i=a[c],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(u)},n=self["webpackChunkfinal_fb_api"]=self["webpackChunkfinal_fb_api"]||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))}();var n=e.O(void 0,[504],(function(){return e(9262)}));n=e.O(n)})();
//# sourceMappingURL=app.d6979245.js.map